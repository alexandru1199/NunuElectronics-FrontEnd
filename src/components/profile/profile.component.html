<div class="profile-container">
  <div class="profile-header">
    <div class="profile-image">
      <img *ngIf="imageBase64" [src]="imageBase64" alt="Profile Image" class="user-icon" />
      <input type="file" (change)="onFileSelected($event)" class="file-input" />
      <button class="edit-btn" (click)="triggerFileInput()">Edit Profile Image</button>
    </div>

    <h2 class="user-name">Hello, {{ username || 'User' }}</h2>

    <!-- ✅ Butonul apare doar dacă userRole < 2 -->
    <button 
      class="add-product-btn" 
      *ngIf="userRole !== null && userRole < 2" 
      [routerLink]="['/addproduct']">
      Add New Product
    </button>

    <button class="logout-btn" (click)="logout()">Logout</button>
  </div>

  <div class="order-history">
    <h3>Your Order History</h3>

    <div *ngIf="orderHistory.length === 0" class="no-orders">No orders found.</div>

    <div *ngFor="let order of orderHistory" class="order-item">
      <div class="order-id">Order ID: {{ order.id }}</div>
      <div class="order-date">Order Date: {{ order.purchaseDate | date:'yyyy-MM-dd HH:mm' }}</div>
      <div class="order-status">Payment Status: {{ order.paymentStatus }}</div>
      <div class="shipping-address">Shipping Address: {{ order.shippingAddress }}</div>
      <div class="order-total">Total Price: ${{ order.totalPrice }}</div>
    </div>
  </div>
</div>
